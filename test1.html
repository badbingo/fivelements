function calculateBazi(birthDate, birthTime) {
    const [year, month, day] = birthDate.split('-').map(Number);
    const [hour, minute] = birthTime.split(':').map(Number);
    
    // 创建农历日期对象
    const lunar = Lunar.fromDate(new Date(year, month - 1, day, hour, minute));
    
    // 获取八字信息
    const bazi = lunar.getEightChar();
    
    return {
        year: {
            stem: bazi.getYearGan(),
            branch: bazi.getYearZhi()
        },
        month: {
            stem: bazi.getMonthGan(),
            branch: bazi.getMonthZhi()
        },
        day: {
            stem: bazi.getDayGan(),
            branch: bazi.getDayZhi()
        },
        hour: {
            stem: bazi.getTimeGan(),
            branch: bazi.getTimeZhi()
        }
    };
}
