<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>八字命理 - 趋吉避凶之道 | 麦八字教学网</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/index.css">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2NHJXGKS0Y"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-2NHJXGKS0Y');
    </script>
    <style>
        /* 生肖图标样式 */
        .zodiac-icon {
            display: inline-block;
            width: 50px; /* 修改为适合的尺寸 */
            height: 50px; /* 修改为适合的尺寸 */
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            transition: all 0.3s ease;
        }
        
        /* 生肖对应的颜色 */
        .zodiac-rat { color: #6e8efb; }
        .zodiac-ox { color: #8BC34A; }
        .zodiac-tiger { color: #FF9800; }
        .zodiac-rabbit { color: #E91E63; }
        .zodiac-dragon { color: #F44336; }
        .zodiac-snake { color: #4CAF50; }
        .zodiac-horse { color: #9C27B0; }
        .zodiac-sheep { color: #00BCD4; }
        .zodiac-monkey { color: #FF5722; }
        .zodiac-rooster { color: #FFC107; }
        .zodiac-dog { color: #795548; }
        .zodiac-pig { color: #607D8B; }
    </style>
</head>
<body>
    <!-- 星空背景 -->
    <div class="stars" id="stars"></div>
    
    <!-- 开场英雄区域 -->
    <section class="hero-section">
        <div class="hero-content">
            <h1 class="hero-title">探索八字命理的奥秘</h1>
            <p class="hero-subtitle">了解自己的命运轨迹，掌握改变人生的钥匙</p>
            
            <div class="bazi-elements">
                <div class="element">木</div>
                <div class="element">火</div>
                <div class="element">土</div>
                <div class="element">金</div>
                <div class="element">水</div>
            </div>
            
            <a href="seven.html" class="cta-button">开始探索命理奥秘</a>
            
            <p class="hero-subtitle" style="font-size: 1.2rem; max-width: 800px; margin: 0 auto;">
                八字命理不仅是预测工具，更是了解自我、把握机遇的智慧。<br>
                通过分析五行生克、十神关系，我们可以预见人生起伏，<br>
                在关键时刻做出明智选择，实现"我命由我不由天"的人生境界。
            </p>
            
            <p class="destiny-quote">
                知命而不认命，顺势而为，逆天改运
            </p>
        </div>
    </section>

    <!-- 新增内容区域 -->
    <section class="content-section">
        <!-- 今日运势概览 -->
        <div class="dashboard-container">
            <div class="dashboard-header">
                <h2><i class="fas fa-calendar-day"></i> 今日运势概览</h2>
                <div class="date-display" id="current-date"></div>
            </div>
            
            <div class="dashboard-grid">
                <!-- 今日能量 -->
                <div class="dashboard-card energy-card">
                    <div class="card-header">
                        <i class="fas fa-bolt"></i>
                        <h3>今日能量指数</h3>
                    </div>
                    <div class="energy-meter">
                        <div class="energy-level" id="today-energy"></div>
                        <div class="energy-labels">
                            <span>低</span>
                            <span>中</span>
                            <span>高</span>
                        </div>
                    </div>
                    <div class="energy-desc" id="energy-desc"></div>
                </div>
                
                <!-- 宜忌 -->
                <div class="dashboard-card suitable-card">
                    <div class="card-header">
                        <i class="fas fa-thumbs-up"></i>
                        <h3>今日宜</h3>
                    </div>
                    <ul class="suitable-list" id="today-suitable"></ul>
                </div>
                
                <div class="dashboard-card avoid-card">
                    <div class="card-header">
                        <i class="fas fa-thumbs-down"></i>
                        <h3>今日忌</h3>
                    </div>
                    <ul class="avoid-list" id="today-avoid"></ul>
                </div>
                
                <!-- 幸运生肖 -->
                <div class="dashboard-card lucky-zodiac">
                    <div class="card-header">
                        <i class="fas fa-star"></i>
                        <h3>今日幸运生肖</h3>
                    </div>
                    <div class="zodiac-icons" id="lucky-zodiacs"></div>
                </div>
            </div>
        </div>
        
        <!-- 生肖运势排行榜 -->
        <div class="ranking-container">
            <h2><i class="fas fa-trophy"></i> 2025年生肖运势排行榜</h2>
            
            <div class="ranking-tabs">
                <button class="ranking-tab active" data-tab="overall">综合运势</button>
                <button class="ranking-tab" data-tab="wealth">财运排行</button>
                <button class="ranking-tab" data-tab="career">事业排行</button>
                <button class="ranking-tab" data-tab="love">感情排行</button>
                <button class="ranking-tab" data-tab="health">健康排行</button>
            </div>
            
            <div class="ranking-content">
                <div class="ranking-tab-content active" id="overall-ranking">
                    <div class="ranking-list" id="overall-list"></div>
                </div>
                <div class="ranking-tab-content" id="wealth-ranking">
                    <div class="ranking-list" id="wealth-list"></div>
                </div>
                <div class="ranking-tab-content" id="career-ranking">
                    <div class="ranking-list" id="career-list"></div>
                </div>
                <div class="ranking-tab-content" id="love-ranking">
                    <div class="ranking-list" id="love-list"></div>
                </div>
                <div class="ranking-tab-content" id="health-ranking">
                    <div class="ranking-list" id="health-list"></div>
                </div>
            </div>
        </div>
        
        <!-- 本月生肖运势建议 -->
        <div class="monthly-zodiac-container">
            <h2><i class="fas fa-calendar-alt"></i> 本月生肖运势建议</h2>
            <div class="zodiac-grid" id="monthly-zodiac-advice"></div>
        </div>
        
        <!-- 能量预测 -->
        <div class="energy-forecast-container">
            <h2><i class="fas fa-chart-line"></i> 能量预测</h2>
            
            <div class="forecast-tabs">
                <button class="forecast-tab active" data-tab="year">年度能量</button>
                <button class="forecast-tab" data-tab="month">本月能量</button>
                <button class="forecast-tab" data-tab="week">本周能量</button>
            </div>
            
            <div class="forecast-content">
                <div class="forecast-tab-content active" id="year-forecast">
                    <div class="forecast-desc" id="year-energy-desc"></div>
                    <div class="energy-graph" id="year-energy-graph"></div>
                </div>
                <div class="forecast-tab-content" id="month-forecast">
                    <div class="forecast-desc" id="month-energy-desc"></div>
                    <div class="energy-graph" id="month-energy-graph"></div>
                </div>
                <div class="forecast-tab-content" id="week-forecast">
                    <div class="forecast-desc" id="week-energy-desc"></div>
                    <div class="energy-graph" id="week-energy-graph"></div>
                </div>
            </div>
        </div>
        
        <!-- 生肖互动小游戏 -->
        <div class="zodiac-game-container">
            <h2><i class="fas fa-gamepad"></i> 生肖互动小游戏</h2>
            <div class="game-content">
                <div class="game-intro">
                    <p>测试你与不同生肖的契合度，看看哪些生肖是你的贵人！</p>
                </div>
                <div class="game-area">
                    <div class="user-zodiac-selector">
                        <h3>选择你的生肖</h3>
                        <div class="zodiac-selector" id="user-zodiac"></div>
                    </div>
                    <div class="target-zodiac-selector">
                        <h3>选择目标生肖</h3>
                        <div class="zodiac-selector" id="target-zodiac"></div>
                    </div>
                    <button class="game-button" id="check-compatibility">测试契合度</button>
                    <div class="game-result" id="compatibility-result"></div>
                </div>
            </div>
        </div>
        
        <!-- 每日命理小知识 -->
        <div class="knowledge-container">
            <h2><i class="fas fa-lightbulb"></i> 每日命理小知识</h2>
            <div class="knowledge-card">
                <div class="knowledge-content" id="daily-knowledge"></div>
                <div class="knowledge-source">每日更新 · 源自传统命理智慧</div>
            </div>
        </div>
    </section>
    
    <script src="js/lunar.js"></script>
    <script>
        // 生肖图标映射 - 使用背景图片
        const zodiacIconUrls = {
            "rat": 'https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f400.svg',
            "ox": 'https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f402.svg',
            "tiger": 'https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f405.svg',
            "rabbit": 'https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f407.svg',
            "dragon": 'https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f409.svg',
            "snake": 'https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f40d.svg',
            "horse": 'https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f40e.svg',
            "sheep": 'https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f411.svg',
            "monkey": 'https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f412.svg',
            "rooster": 'https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f413.svg',
            "dog": 'https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f415.svg',
            "pig": 'https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f437.svg'
        };

        // 创建星空背景
        document.addEventListener('DOMContentLoaded', function() {
            const starsContainer = document.getElementById('stars');
            const starCount = 200;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                // 随机大小 (1-3px)
                const size = Math.random() * 2 + 1;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                
                // 随机位置
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                
                // 随机闪烁时间 (2-5秒)
                star.style.setProperty('--duration', `${Math.random() * 3 + 2}s`);
                
                starsContainer.appendChild(star);
            }
            
            // 今日运势数据
            const todayData = {
                energy: 75, // 示例数据
                energyDesc: "今日能量中等偏上，适合处理重要事务，但下午3-5点能量较低，建议避免重大决策。",
                suitable: ["签约", "搬家", "投资", "社交", "学习新技能"],
                avoid: ["借贷", "争吵", "远行", "手术", "重大变更"],
                luckyZodiacs: ["rat", "ox", "tiger"] // 示例数据
            };

            updateTodayFortune(todayData);

            // 创建幸运生肖
            const luckyZodiacs = document.getElementById('lucky-zodiacs');
            todayData.luckyZodiacs.forEach(zodiac => {
                const div = document.createElement('div');
                div.className = `zodiac-icon zodiac-${zodiac}`;
                div.style.backgroundImage = `url(${zodiacIconUrls[zodiac]})`;
                luckyZodiacs.appendChild(div);
            });

            // 示例生肖运势排行榜数据
            const rankings = {
                overall: [
                    {name: "snake", score: 95, desc: "2025年蛇年为本命年，但得'天解'吉星相助，运势强劲"},
                    {name: "ox", score: 90, desc: "三合太岁，贵人运旺盛，事业财运双丰收"},
                    {name: "rooster", score: 88, desc: "'紫微'、'龙德'吉星高照，事业突破良机"},
                    {name: "rat", score: 85, desc: "财运亨通，投资理财收益可观"},
                    {name: "tiger", score: 82, desc: "'太阳'吉星入命，男性运势更佳"},
                ]
            };

            updateZodiacRankings(rankings);
        });

        function updateTodayFortune(data) {
            // 更新今日能量
            document.getElementById('today-energy').style.width = `${data.energy}%`;
            document.getElementById('energy-desc').textContent = data.energyDesc;

            // 更新今日宜忌
            const suitableList = document.getElementById('today-suitable');
            const avoidList = document.getElementById('today-avoid');

            suitableList.innerHTML = '';
            avoidList.innerHTML = '';

            data.suitable.forEach(item => {
                const li = document.createElement('li');
                li.textContent = item;
                suitableList.appendChild(li);
            });

            data.avoid.forEach(item => {
                const li = document.createElement('li');
                li.textContent = item;
                avoidList.appendChild(li);
            });
        }

        function updateZodiacRankings(rankings) {
            const overallList = document.getElementById('overall-list');
            overallList.innerHTML = '';
            rankings.overall.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'ranking-item';
                div.innerHTML = `
                    <div class="ranking-rank">${index + 1}</div>
                    <div class="ranking-zodiac">
                        <div class="zodiac-icon zodiac-${item.name}" style="background-image: url('${zodiacIconUrls[item.name]}');"></div>
                    </div>
                    <div class="ranking-score">${item.score}</div>
                    <div class="ranking-desc">${item.desc}</div>
                `;
                overallList.appendChild(div);
            });
        }
    </script>
    <script src="js/ink.js"></script>
</body>
</html>
