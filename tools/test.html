<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>八字计算器 - 麦八字教学网</title>
    <link rel="stylesheet" href="../css/style1.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="../css/navigation.css">
    <script defer src="../js/navigation.js"></script>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2NHJXGKS0Y"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-2NHJXGKS0Y');
    </script>
    
    <style>
        /* 新增的学习分析卡片样式 */
        .analysis-section {
            margin-top: 40px;
        }
        
        .analysis-tabs {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(237, 28, 36, 0.2);
        }
        
        .analysis-tab {
            padding: 12px 25px;
            cursor: pointer;
            font-weight: 600;
            color: #666;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .analysis-tab:hover {
            color: var(--primary-color);
        }
        
        .analysis-tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }
        
        .analysis-tab i {
            margin-right: 8px;
        }
        
        .analysis-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .analysis-content.active {
            display: block;
        }
        
        .analysis-card {
            background: rgba(255, 255, 255, 0.8);
            border-radius: var(--border-radius);
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            border: var(--glass-border);
            backdrop-filter: blur(5px);
            position: relative;
            overflow: hidden;
        }
        
        .analysis-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-glass);
            z-index: -1;
        }
        
        .analysis-card h3 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .analysis-card h3 i {
            color: var(--accent-color);
            font-size: 1.3em;
        }
        
        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .analysis-item {
            background: rgba(255, 255, 255, 0.6);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            border-left: 4px solid var(--primary-color);
        }
        
        .analysis-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .analysis-item-title {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .analysis-item-content {
            color: #444;
            line-height: 1.8;
        }
        
        .wuxing-balance {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            gap: 15px;
        }
        
        .wuxing-item {
            flex: 1;
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .wuxing-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .wuxing-value {
            font-size: 1.5rem;
            font-weight: 700;
            margin: 10px 0;
        }
        
        .wuxing-bar {
            height: 10px;
            background: #eee;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 10px;
        }
        
        .wuxing-progress {
            height: 100%;
            transition: width 1s ease;
        }
        
        /* 五行颜色 */
        .wood-color {
            color: #2e7d32;
        }
        
        .fire-color {
            color: #c62828;
        }
        
        .earth-color {
            color: #8d6e63;
        }
        
        .metal-color {
            color: #1565c0;
        }
        
        .water-color {
            color: #0277bd;
        }
        
        .wood-bg {
            background-color: #2e7d32;
        }
        
        .fire-bg {
            background-color: #c62828;
        }
        
        .earth-bg {
            background-color: #8d6e63;
        }
        
        .metal-bg {
            background-color: #1565c0;
        }
        
        .water-bg {
            background-color: #0277bd;
        }
        
        /* 交互式八字表 */
        .interactive-bazi-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .interactive-bazi-table th {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--white);
            padding: 15px;
            text-align: center;
            font-weight: 500;
            position: relative;
        }
        
        .interactive-bazi-table td {
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(237, 28, 36, 0.1);
            vertical-align: middle;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            position: relative;
        }
        
        .interactive-bazi-table td:hover {
            background: rgba(237, 28, 36, 0.05);
        }
        
        .interactive-bazi-table .pillar-label {
            background: rgba(237, 28, 36, 0.05);
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .pillar-element {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 5px;
            display: block;
        }
        
        .pillar-details {
            font-size: 0.9rem;
            color: #666;
            margin-top: 8px;
        }
        
        .pillar-tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 0.9rem;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 10;
            margin-bottom: 10px;
        }
        
        .interactive-bazi-table td:hover .pillar-tooltip {
            opacity: 1;
            visibility: visible;
        }
        
        /* 运势时间线 */
        .luck-timeline {
            position: relative;
            max-width: 100%;
            margin: 40px 0;
            padding-left: 50px;
        }
        
        .luck-timeline::before {
            content: '';
            position: absolute;
            width: 3px;
            background: linear-gradient(to bottom, var(--primary-color), var(--accent-color));
            top: 0;
            bottom: 0;
            left: 20px;
            border-radius: 3px;
        }
        
        .luck-item {
            padding: 0 0 30px 30px;
            position: relative;
        }
        
        .luck-item::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: var(--white);
            border: 4px solid var(--primary-color);
            border-radius: 50%;
            left: 11px;
            top: 0;
            z-index: 1;
            box-shadow: 0 0 0 4px rgba(237, 28, 36, 0.2);
            transition: all 0.3s ease;
        }
        
        .luck-item:hover::after {
            border-color: var(--accent-color);
            transform: scale(1.1);
        }
        
        .luck-content {
            padding: 25px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: var(--border-radius);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            position: relative;
            border: var(--glass-border);
            backdrop-filter: blur(5px);
            transition: var(--transition);
        }
        
        .luck-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-glass);
            z-index: -1;
        }
        
        .luck-item:hover .luck-content {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }
        
        .luck-year {
            display: inline-block;
            padding: 5px 15px;
            background: rgba(237, 28, 36, 0.1);
            color: var(--primary-color);
            border-radius: 20px;
            font-size: 1rem;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        .luck-title {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        
        .luck-description {
            color: #444;
            line-height: 1.8;
        }
        
        /* 学习提示 */
        .learning-tip {
            background: rgba(255, 243, 224, 0.8);
            border-left: 4px solid #FFA000;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            position: relative;
        }
        
        .learning-tip::before {
            content: '学习提示';
            position: absolute;
            top: 0;
            left: 0;
            background: #FFA000;
            color: white;
            padding: 3px 10px;
            font-size: 0.8rem;
            border-radius: 0 0 5px 0;
        }
        
        .learning-tip p {
            margin-top: 15px;
            color: #5D4037;
        }
        
        /* 交互式五行图 */
        .wuxing-interactive {
            display: flex;
            justify-content: center;
            margin: 30px 0;
        }
        
        .wuxing-cycle {
            position: relative;
            width: 300px;
            height: 300px;
        }
        
        .wuxing-element-circle {
            position: absolute;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .wuxing-element-circle:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .wuxing-relation {
            position: absolute;
            width: 2px;
            height: 100px;
            background: #999;
            transform-origin: bottom center;
        }
        
        .wuxing-info {
            flex: 1;
            max-width: 400px;
            margin-left: 40px;
        }
        
        .wuxing-info-card {
            background: rgba(255, 255, 255, 0.8);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            display: none;
        }
        
        .wuxing-info-card.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .wuxing-info-title {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 1.3rem;
        }
        
        .wuxing-info-content {
            color: #444;
            line-height: 1.8;
        }
        
        /* 动画 */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* 响应式调整 */
        @media (max-width: 768px) {
            .analysis-grid {
                grid-template-columns: 1fr;
            }
            
            .wuxing-balance {
                flex-direction: column;
            }
            
            .wuxing-interactive {
                flex-direction: column;
                align-items: center;
            }
            
            .wuxing-info {
                margin-left: 0;
                margin-top: 30px;
                max-width: 100%;
            }
            
            .interactive-bazi-table td {
                padding: 15px 10px;
            }
            
            .pillar-element {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="background-overlay"></div>
    
    <main class="content-container">
        <div class="content-title">
            <h1>八字计算器</h1>
            <p>输入您的出生信息，自动生成完整八字命盘并进行详细分析</p>
        </div>

        <div class="content-section">
            <div class="calculator-form">
                <div class="form-header">
                    <h2 style="color: white;"><i class="fas fa-user-circle"></i> 基本信息输入</h2>
                    <p style="color: white;">请填写您的出生信息以生成八字命盘</p>
                </div>
                <form id="bazi-form" class="elegant-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="birth-date"><i class="far fa-calendar-alt"></i> 出生日期</label>
                            <div class="input-with-icon">
                                <i class="fas fa-calendar-day"></i>
                                <input type="date" id="birth-date" name="birth-date" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label><i class="far fa-clock"></i> 出生时间</label>
                            <div class="time-select-group">
                                <div class="select-with-icon">
                                    <i class="fas fa-hourglass-start"></i>
                                    <select id="birth-hour" name="birth-hour" required>
                                        <option value="">-- 时 --</option>
                                        <script>
                                            for(let i=0; i<24; i++) {
                                                document.write(`<option value="${i}">${i < 10 ? '0' + i : i}时</option>`);
                                            }
                                        </script>
                                    </select>
                                </div>
                                <div class="select-with-icon">
                                    <i class="fas fa-hourglass-end"></i>
                                    <select id="birth-minute" name="birth-minute" required>
                                        <option value="">-- 分 --</option>
                                        <script>
                                            for(let i=0; i<60; i++) {
                                                document.write(`<option value="${i}">${i < 10 ? '0' + i : i}分</option>`);
                                            }
                                        </script>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="timezone"><i class="fas fa-globe-asia"></i> 出生地区</label>
                            <div class="select-with-icon">
                                <i class="fas fa-map-marker-alt"></i>
                                <select id="timezone" name="timezone" required>
                                    <option value="8">中国标准时间 (UTC+8)</option>
                                    <option value="-8">太平洋时间 (UTC-8)</option>
                                    <option value="-5">东部时间 (UTC-5)</option>
                                    <option value="0">格林尼治时间 (UTC+0)</option>
                                    <option value="9">日本标准时间 (UTC+9)</option>
                                    <option value="-7">山地时间 (UTC-7)</option>
                                    <option value="-6">中部时间 (UTC-6)</option>
                                    <option value="1">中欧时间 (UTC+1)</option>
                                    <option value="10">澳大利亚东部时间 (UTC+10)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label><i class="fas fa-venus-mars"></i> 性别</label>
                            <div class="gender-group">
                                <label class="gender-option">
                                    <input type="radio" name="gender" value="male" checked>
                                    <span class="gender-icon"><i class="fas fa-mars"></i></span>
                                    <span class="gender-text">男</span>
                                </label>
                                <label class="gender-option">
                                    <input type="radio" name="gender" value="female">
                                    <span class="gender-icon"><i class="fas fa-venus"></i></span>
                                    <span class="gender-text">女</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-buttons">
                        <button type="submit" class="btn btn-primary"><i class="fas fa-calculator"></i> 计算八字</button>
                        <button type="reset" class="btn btn-secondary"><i class="fas fa-redo"></i> 重置</button>
                    </div>
                </form>
            </div>
        </div>

        <div class="content-section" id="result-section" style="display: none;">
            <div class="result-header">
                <h2><i class="fas fa-chart-pie"></i> 八字命盘结果</h2>
                <div class="result-actions">
                    <button id="print-btn" class="btn btn-action"><i class="fas fa-print"></i> 打印</button>
                    <button id="save-btn" class="btn btn-action"><i class="fas fa-save"></i> 保存</button>
                </div>
            </div>
            
            <div class="bazi-result">
                <div class="basic-info-card">
                    <h3><i class="fas fa-info-circle"></i> 基本信息</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">出生日期：</span>
                            <span class="info-value" id="result-date">1984年1月1日</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">出生时间：</span>
                            <span class="info-value" id="result-time">23:00</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">农历日期：</span>
                            <span class="info-value" id="result-lunar">癸亥年腊月初八</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">生肖：</span>
                            <span class="info-value" id="result-zodiac">鼠</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">命宫：</span>
                            <span class="info-value" id="result-minggong">卯宫</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">身宫：</span>
                            <span class="info-value" id="result-shengong">酉宫</span>
                        </div>
                    </div>
                </div>
                
                <div class="bazi-table-container">
                    <table class="interactive-bazi-table">
                        <thead>
                            <tr>
                                <th>四柱</th>
                                <th>年柱</th>
                                <th>月柱</th>
                                <th>日柱</th>
                                <th>时柱</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="pillar-label">天干</td>
                                <td id="year-stem">
                                    <span class="pillar-element">甲</span>
                                    <span class="pillar-details">(比肩)</span>
                                    <div class="pillar-tooltip">年干代表祖上、父母、早年运势</div>
                                </td>
                                <td id="month-stem">
                                    <span class="pillar-element">乙</span>
                                    <span class="pillar-details">(劫财)</span>
                                    <div class="pillar-tooltip">月干代表父母、兄弟姐妹、青年运势</div>
                                </td>
                                <td id="day-stem">
                                    <span class="pillar-element">丙</span>
                                    <span class="pillar-details">(日元)</span>
                                    <div class="pillar-tooltip">日干代表自己，是命盘的核心</div>
                                </td>
                                <td id="hour-stem">
                                    <span class="pillar-element">丁</span>
                                    <span class="pillar-details">(伤官)</span>
                                    <div class="pillar-tooltip">时干代表子女、晚年运势</div>
                                </td>
                            </tr>
                            <tr>
                                <td class="pillar-label">地支</td>
                                <td id="year-branch">
                                    <span class="pillar-element">子</span>
                                    <span class="pillar-details">(正官)</span>
                                    <div class="pillar-tooltip">年支藏干：癸(正印)</div>
                                </td>
                                <td id="month-branch">
                                    <span class="pillar-element">丑</span>
                                    <span class="pillar-details">(正印)</span>
                                    <div class="pillar-tooltip">月支藏干：己(正财)、癸(正印)、辛(正官)</div>
                                </td>
                                <td id="day-branch">
                                    <span class="pillar-element">寅</span>
                                    <span class="pillar-details">(偏印)</span>
                                    <div class="pillar-tooltip">日支藏干：甲(比肩)、丙(劫财)、戊(食神)</div>
                                </td>
                                <td id="hour-branch">
                                    <span class="pillar-element">卯</span>
                                    <span class="pillar-details">(正印)</span>
                                    <div class="pillar-tooltip">时支藏干：乙(劫财)</div>
                                </td>
                            </tr>
                            <tr>
                                <td class="pillar-label">空亡</td>
                                <td id="year-void">戌亥</td>
                                <td id="month-void">戌亥</td>
                                <td id="day-void">戌亥</td>
                                <td id="hour-void">戌亥</td>
                            </tr>
                            <tr>
                                <td class="pillar-label">纳音</td>
                                <td id="year-nayin">海中金</td>
                                <td id="month-nayin">海中金</td>
                                <td id="day-nayin">炉中火</td>
                                <td id="hour-nayin">炉中火</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- 新增的学习分析区域 -->
                <div class="analysis-section">
                    <h2><i class="fas fa-graduation-cap"></i> 八字分析</h2>
                    <p>以下是根据您的八字命盘进行的详细分析，点击各选项卡查看不同方面的解读。</p>
                    
                    <div class="analysis-tabs">
                        <div class="analysis-tab active" data-tab="strength"><i class="fas fa-weight"></i> 身强身弱</div>
                        <div class="analysis-tab" data-tab="tenshen"><i class="fas fa-users"></i> 十神分析</div>
                        <div class="analysis-tab" data-tab="wuxing"><i class="fas fa-balance-scale"></i> 五行平衡</div>
                        <div class="analysis-tab" data-tab="special"><i class="fas fa-star"></i> 特殊组合</div>
                        <div class="analysis-tab" data-tab="yongji"><i class="fas fa-thumbs-up"></i> 用神忌神</div>
                        <div class="analysis-tab" data-tab="luck"><i class="fas fa-chart-line"></i> 运势分析</div>
                    </div>
                    
                    <!-- 身强身弱分析 -->
                    <div class="analysis-content active" id="strength-analysis">
                        <div class="analysis-card">
                            <h3><i class="fas fa-weight"></i> 身强身弱分析</h3>
                            <div class="analysis-grid">
                                <div class="analysis-item">
                                    <div class="analysis-item-title"><i class="fas fa-user"></i> 日主强弱</div>
                                    <div class="analysis-item-content">
                                        <p>根据您的八字分析，您的日主属于<strong class="wood-color">身强</strong>。</p>
                                        <p>日主强弱是八字分析的基础，身强的人通常精力充沛，抗压能力强，但也可能性格刚强，需要注意调节。</p>
                                    </div>
                                </div>
                                <div class="analysis-item">
                                    <div class="analysis-item-title"><i class="fas fa-calculator"></i> 计算依据</div>
                                    <div class="analysis-item-content">
                                        <p>日主<strong class="wood-color">甲木</strong>生于<strong class="earth-color">丑月</strong>，得<strong class="water-color">子水</strong>、<strong class="wood-color">寅木</strong>、<strong class="wood-color">卯木</strong>生扶，天干有<strong class="wood-color">乙木</strong>比劫相助，整体来看日主偏强。</p>
                                    </div>
                                </div>
                                <div class="analysis-item">
                                    <div class="analysis-item-title"><i class="fas fa-lightbulb"></i> 性格特点</div>
                                    <div class="analysis-item-content">
                                        <p>身强的人通常具有以下特点：</p>
                                        <ul>
                                            <li>性格较为外向主动</li>
                                            <li>做事有魄力，执行力强</li>
                                            <li>抗压能力较好</li>
                                            <li>有时会显得固执己见</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="analysis-item">
                                    <div class="analysis-item-title"><i class="fas fa-hand-holding-heart"></i> 调理建议</div>
                                    <div class="analysis-item-content">
                                        <p>对于身强的人，建议：</p>
                                        <ul>
                                            <li>适当培养耐心和包容心</li>
                                            <li>注意听取他人意见</li>
                                            <li>可以选择一些需要耐性的活动来平衡性格</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="learning-tip">
                                <p><strong>学习要点：</strong> 身强身弱的判断需要综合考虑月令、地支藏干、天干透出以及五行生克关系。身强不一定好，身弱也不一定差，关键在于五行的平衡和流通。</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 十神分析 -->
                    <div class="analysis-content" id="tenshen-analysis">
                        <div class="analysis-card">
                            <h3><i class="fas fa-users"></i> 十神分析</h3>
                            <div class="analysis-grid">
                                <div class="analysis-item">
                                    <div class="analysis-item-title"><i class="fas fa-user-tie"></i> 十神分布</div>
                                    <div class="analysis-item-content">
                                        <p>您的八字中十神分布如下：</p>
                                        <ul>
                                            <li>比肩：2个</li>
                                            <li>劫财：2个</li>
                                            <li>食神：1个</li>
                                            <li>伤官：1个</li>
                                            <li>正财：1个</li>
                                            <li>正官：1个</li>
                                            <li>正印：2个</li>
                                            <li>偏印：1个</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="analysis-item">
                                    <div class="analysis-item-title"><i class="fas fa-chart-pie"></i> 十神比例</div>
                                    <div class="analysis-item-content">
                                        <p>您的八字中：</p>
                                        <ul>
                                            <li>比劫(比肩+劫财)较多，表示兄弟朋友助力大</li>
                                            <li>印星(正印+偏印)也较多，表示学习能力强</li>
                                            <li>官杀(正官+七杀)较少，表示约束力不强</li>
                                            <li>财星(正财+偏财)适中，表示财运平稳</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="analysis-item">
                                    <div class="analysis-item-title"><i class="fas fa-people-arrows"></i> 人际关系</div>
                                    <div class="analysis-item-content">
                                        <p>从十神分布看您的人际关系：</p>
                                        <ul>
                                            <li>比劫多表示朋友多，但也要注意交友选择</li>
                                            <li>印星多表示容易得到长辈贵人帮助</li>
                                            <li>官星少表示工作中约束较少，需要自我管理</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="analysis-item">
                                    <div class="analysis-item-title"><i class="fas fa-briefcase"></i> 事业发展</div>
                                    <div class="analysis-item-content">
                                        <p>十神对事业的影响：</p>
                                        <ul>
                                            <li>比劫多适合团队合作或自主创业</li>
                                            <li>印星多适合教育、研究等知识型工作</li>
                                            <li>食伤多适合创意、艺术类工作</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="learning-tip">
                                <p><strong>学习要点：</strong> 十神是八字分析的核心概念，代表命主与周围环境的关系。每个十神都有其特定含义，需要结合位置和强弱来综合判断。例如年柱十神代表早年影响，月柱十神代表青年时期等。</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 五行平衡分析 -->
                    <div class="analysis-content" id="wuxing-analysis">
                        <div class="analysis-card">
                            <h3><i class="fas fa-balance-scale"></i> 五行平衡分析</h3>
                            <div class="wuxing-balance">
                                <div class="wuxing-item wood-color">
                                    <div><i class="fas fa-tree"></i> 木</div>
                                    <div class="wuxing-value">3</div>
                                    <div class="wuxing-bar">
                                        <div class="wuxing-progress wood-bg" style="width: 60%"></div>
                                    </div>
                                </div>
                                <div class="wuxing-item fire-color">
                                    <div><i class="fas fa-fire"></i> 火</div>
                                    <div class="wuxing-value">2</div>
                                    <div class="wuxing-bar">
                                        <div class="wuxing-progress fire-bg" style="width: 40%"></div>
                                    </div>
                                </div>
                                <div class="wuxing-item earth-color">
                                    <div><i class="fas fa-mountain"></i> 土</div>
                                    <div class="wuxing-value">1</div>
                                    <div class="wuxing-bar">
                                        <div class="wuxing-progress earth-bg" style="width: 20%"></div>
                                    </div>
                                </div>
                                <div class="wuxing-item metal-color">
                                    <div><i class="fas fa-gem"></i> 金</div>
                                    <div class="wuxing-value">1</div>
                                    <div class="wuxing-bar">
                                        <div class="wuxing-progress metal-bg" style="width: 20%"></div>
                                    </div>
                                </div>
                                <div class="wuxing-item water-color">
                                    <div><i class="fas fa-tint"></i> 水</div>
                                    <div class="wuxing-value">1</div>
                                    <div class="wuxing-bar">
                                        <div class="wuxing-progress water-bg" style="width: 20%"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="analysis-grid" style="margin-top: 30px;">
                                <div class="analysis-item">
                                    <div class="analysis-item-title"><i class="fas fa-chart-bar"></i> 五行分布</div>
                                    <div class="analysis-item-content">
                                        <p>您的八字五行分布：</p>
                                        <ul>
                                            <li class="wood-color">木：3个（日主甲木，乙木，寅木）</li>
                                            <li class="fire-color">火：2个（丙火，丁火）</li>
                                            <li class="earth-color">土：1个（丑土）</li>
                                            <li class="metal-color">金：1个（辛金）</li>
                                            <li class="water-color">水：1个（子水）</li>
                                        </ul>
                                        <p>五行中<strong class="wood-color">木</strong>最旺，<strong class="fire-color">火</strong>次之，其他三行较弱。</p>
                                    </div>
                                </div>
                                <div class="analysis-item">
                                    <div class="analysis-item-title"><i class="fas fa-exchange-alt"></i> 五行生克</div>
                                    <div class="analysis-item-content">
                                        <p>您的五行生克关系：</p>
                                        <ul>
                                            <li><strong class="water-color">水</strong>生<strong class="wood-color">木</strong>（子水生甲木）</li>
                                            <li><strong class="wood-color">木</strong>生<strong class="fire-color">火</strong>（甲木生丙火）</li>
                                            <li><strong class="fire-color">火</strong>生<strong class="earth-color">土</strong>（丙火生丑土）</li>
                                            <li><strong class="earth-color">土</strong>生<strong class="metal-color">金</strong>（丑土生辛金）</li>
                                            <li><strong class="metal-color">金</strong>生<strong class="water-color">水</strong>（辛金生子水）</li>
                                        </ul>
                                        <p>五行流通较好，形成水生木→木生火→火生土→土生金→金生水的循环。</p>
                                    </div>
                                </div>
                                <div class="analysis-item">
                                    <div class="analysis-item-title"><i class="fas fa-heartbeat"></i> 健康提示</div>
                                    <div class="analysis-item-content">
                                        <p>根据五行平衡，健康方面需要注意：</p>
                                        <ul>
                                            <li><strong class="metal-color">金</strong>弱可能影响呼吸系统</li>
                                            <li><strong class="earth-color">土</strong>弱可能影响脾胃功能</li>
                                            <li><strong class="wood-color">木</strong>旺可能影响肝胆</li>
                                        </ul>
                                        <p>建议加强金属性和土属性方面的调理。</p>
                                    </div>
                                </div>
                                <div class="analysis-item">
                                    <div class="analysis-item-title"><i class="fas fa-magic"></i> 平衡建议</div>
                                    <div class="analysis-item-content">
                                        <p>为了平衡五行，您可以：</p>
                                        <ul>
                                            <li>多接触白色、金色的物品（补金）</li>
                                            <li>选择西南或东北方位的居住或工作环境（补土）</li>
                                            <li>适量食用山药、南瓜等黄色食物（补土）</li>
                                            <li>适当减少绿色和红色的使用（木火已旺）</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 交互式五行图 -->
                            <div class="wuxing-interactive">
                                <div class="wuxing-cycle">
                                    <div class="wuxing-element-circle wood-color wood-bg" style="top: 20px; left: 110px;" data-element="wood">木</div>
                                    <div class="wuxing-element-circle fire-color fire-bg" style="top: 60px; right: 60px;" data-element="fire">火</div>
                                    <div class="wuxing-element-circle earth-color earth-bg" style="bottom: 60px; right: 60px;" data-element="earth">土</div>
                                    <div class="wuxing-element-circle metal-color metal-bg" style="bottom: 20px; left: 110px;" data-element="metal">金</div>
                                    <div class="wuxing-element-circle water-color water-bg" style="top: 110px; left: 20px;" data-element="water">水</div>
                                    
                                    <!-- 五行生克关系线 -->
                                    <div class="wuxing-relation" style="top: 50px; left: 150px; transform: rotate(72deg);"></div>
                                    <div class="wuxing-relation" style="top: 50px; left: 150px; transform: rotate(144deg);"></div>
                                    <div class="wuxing-relation" style="top: 50px; left: 150px; transform: rotate(216deg);"></div>
                                    <div class="wuxing-relation" style="top: 50px; left: 150px; transform: rotate(288deg);"></div>
                                    <div class="wuxing-relation" style="top: 50px; left: 150px; transform: rotate(360deg);"></div>
                                </div>
                                
                                <div class="wuxing-info">
                                    <div class="wuxing-info-card" id="wood-info">
                                        <div class="wuxing-info-title"><i class="fas fa-tree"></i> 木元素</div>
                                        <div class="wuxing-info-content">
                                            <p>木代表生长、发展、向上。在您的八字中木元素最旺，表示您具有强大的生命力和发展潜力。</p>
                                            <p><strong>对应：</strong> 肝胆、眼睛、筋骨</p>
                                            <p><strong>性格：</strong> 仁慈、直率、有进取心</p>
                                        </div>
                                    </div>
                                    <div class="wuxing-info-card" id="fire-info">
                                        <div class="wuxing-info-title"><i class="fas fa-fire"></i> 火元素</div>
                                        <div class="wuxing-info-content">
                                            <p>火代表热情、光明、礼仪。您的八字中火元素次旺，表示您性格热情，富有表现力。</p>
                                            <p><strong>对应：</strong> 心脏、小肠、血脉</p>
                                            <p><strong>性格：</strong> 热情、积极、有礼貌</p>
                                        </div>
                                    </div>
                                    <div class="wuxing-info-card" id="earth-info">
                                        <div class="wuxing-info-title"><i class="fas fa-mountain"></i> 土元素</div>
                                        <div class="wuxing-info-content">
                                            <p>土代表稳定、包容、诚信。您的八字中土元素较弱，可能需要注意脾胃健康。</p>
                                            <p><strong>对应：</strong> 脾胃、肌肉、口唇</p>
                                            <p><strong>性格：</strong> 稳重、诚信、包容</p>
                                        </div>
                                    </div>
                                    <div class="wuxing-info-card" id="metal-info">
                                        <div class="wuxing-info-title"><i class="fas fa-gem"></i> 金元素</div>
                                        <div class="wuxing-info-content">
                                            <p>金代表果断、刚毅、义气。您的八字中金元素较弱，可能需要注意呼吸系统健康。</p>
                                            <p><strong>对应：</strong> 肺、大肠、皮肤</p>
                                            <p><strong>性格：</strong> 刚毅、果断、讲义气</p>
                                        </div>
                                    </div>
                                    <div class="wuxing-info-card" id="water-info">
                                        <div class="wuxing-info-title"><i class="fas fa-tint"></i> 水元素</div>
                                        <div class="wuxing-info-content">
                                            <p>水代表智慧、流动、变化。您的八字中水元素较弱，但水生木，是您命局的源头。</p>
                                            <p><strong>对应：</strong> 肾、膀胱、耳朵</p>
                                            <p><strong>性格：</strong> 聪明、灵活、善变</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="learning-tip">
                                <p><strong>学习要点：</strong> 五行平衡是八字分析的核心。五行相生：木生火，火生土，土生金，金生水，水生木；五行相克：木克土，土克水，水克火，火克金，金克木。分析时要看五行是否流通，是否有某一行过强或过弱。</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 特殊组合分析 -->
                    <div class="analysis-content" id="special-analysis">
                        <div class="analysis-card">
                            <h3><i class="fas fa-star"></i> 特殊组合分析</h3>
                            <div class="analysis-grid">
                                <div class="analysis-item">
                                    <div class="analysis-item-title"><i class="fas fa-puzzle-piece"></i> 组合一：子丑合土</div>
                                    <div class="analysis-item-content">
                                        <p>您的八字中年支<strong class="water-color">子水</strong>与月支<strong class="earth-color">丑土</strong>形成<strong>子丑合土</strong>的特殊组合。</p>
                                        <p>这种合化使水力量减弱，土力量增强，对命局有以下影响：</p>
                                        <ul>
                                            <li>减少水的力量，间接减弱了生木的源头</li>
                                            <li>增强土的力量，有利于金的生发</li>
                                            <li>可能影响早年运势和家庭关系</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="analysis-item">
                                    <div class="analysis-item-title"><i class="fas fa-puzzle-piece"></i> 组合二：寅卯半会木</div>
                                    <div class="analysis-item-content">
                                        <p>您的八字中日支<strong class="wood-color">寅木</strong>与时支<strong class="wood-color">卯木</strong>形成<strong>寅卯半会木</strong>的组合。</p>
                                        <p>这种组合增强了木的力量，对命局有以下影响：</p>
                                        <ul>
                                            <li>大大增强日主甲木的力量</li>
                                            <li>形成强大的木气场</li>
                                            <li>可能使性格更加固执坚定</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="analysis-item">
                                    <div class="analysis-item-title"><i class="fas fa-puzzle-piece"></i> 组合三：甲丙丁透干</div>
                                    <div class="analysis-item-content">
                                        <p>您的八字中天干透出<strong class="wood-color">甲木</strong>、<strong class="fire-color">丙火</strong>、<strong class="fire-color">丁火</strong>，形成木火通明的格局。</p>
                                        <p>这种组合对命局有以下影响：</p>
                                        <ul>
                                            <li>木火相生，思维活跃，表达能力强</li>
                                            <li>适合从事文化、教育、创意类工作</li>
                                            <li>可能性格较为外向热情</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="analysis-item">
                                    <div class="analysis-item-title"><i class="fas fa-puzzle-piece"></i> 组合四：丑中藏辛</div>
                                    <div class="analysis-item-content">
                                        <p>您的八字中月支<strong class="earth-color">丑土</strong>藏有<strong class="metal-color">辛金</strong>，形成土生金的暗藏组合。</p>
                                        <p>这种组合对命局有以下影响：</p>
                                        <ul>
                                            <li>暗中增强金的力量</li>
                                            <li>可能在中年时期有财运或事业突破</li>
                                            <li>需要注意呼吸系统健康</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="learning-tip">
                                <p><strong>学习要点：</strong> 特殊组合是八字中的亮点，包括三合、六合、三会、刑冲破害等关系。分析这些组合可以帮助我们更深入地理解命局的独特性和潜在机遇或挑战。</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 用神忌神分析 -->
                    <div class="analysis-content" id="yongji-analysis">
                        <div class="analysis-card">
                            <h3><i class="fas fa-thumbs-up"></i> 用神与忌神分析</h3>
                            <div class="analysis-grid">
                                <div class="analysis-item">
                                    <div class="analysis-item-title"><i class="fas fa-thumbs-up"></i> 用神分析</div>
                                    <div class="analysis-item-content">
                                        <p>根据您的八字，用神可能是：</p>
                                        <ul>
                                            <li><strong class="metal-color">金</strong>：可以克制过旺的木，平衡命局</li>
                                            <li><strong class="earth-color">土</strong>：可以泄火生金，起到通关作用</li>
                                        </ul>
                                        <p>用神的作用：</p>
                                        <ul>
                                            <li>平衡五行，调和命局</li>
                                            <li>增强好运，化解不利</li>
                                            <li>指导生活中的补救措施</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="analysis-item">
                                    <div class="analysis-item-title"><i class="fas fa-thumbs-down"></i> 忌神分析</div>
                                    <div class="analysis-item-content">
                                        <p>根据您的八字，忌神可能是：</p>
                                        <ul>
                                            <li><strong class="wood-color">木</strong>：已经过旺，再增强会失衡</li>
                                            <li><strong class="water-color">水</strong>：会生木，进一步增强忌神力量</li>
                                        </ul>
                                        <p>忌神的影响：</p>
                                        <ul>
                                            <li>加剧五行不平衡</li>
                                            <li>可能带来不利影响</li>
                                            <li>需要适当规避</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="analysis-item">
                                    <div class="analysis-item-title"><i class="fas fa-magic"></i> 用神应用</div>
                                    <div class="analysis-item-content">
                                        <p>在日常生活中可以这样应用用神：</p>
                                        <ul>
                                            <li>选择白色、金色的衣物或饰品（补金）</li>
                                            <li>居住或工作在西北方位（金位）</li>
                                            <li>从事与金属性相关的行业（金融、机械等）</li>
                                            <li>多吃白色食物（白萝卜、百合等）</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="analysis-item">
                                    <div class="analysis-item-title"><i class="fas fa-ban"></i> 忌神规避</div>
                                    <div class="analysis-item-content">
                                        <p>对于忌神，可以采取以下措施：</p>
                                        <ul>
                                            <li>减少绿色、黑色的使用（木水颜色）</li>
                                            <li>避免长期居住在正东、北方位（木水位）</li>
                                            <li>注意与木属性过强的人保持适当距离</li>
                                            <li>适量控制酸味食物（木味）的摄入</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="learning-tip">
                                <p><strong>学习要点：</strong> 用神是八字中最能平衡命局的五行，忌神则是破坏平衡的五行。确定用神需要综合考虑日主强弱、五行平衡、气候调候等因素。用神不一定是最弱的五行，而是最能改善命局平衡的五行。</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 运势分析 -->
                    <div class="analysis-content" id="luck-analysis">
                        <div class="analysis-card">
                            <h3><i class="fas fa-chart-line"></i> 运势分析</h3>
                            <div class="luck-timeline">
                                <div class="luck-item">
                                    <div class="luck-content">
                                        <div class="luck-year">2020-2029年</div>
                                        <h4 class="luck-title">当前大运：庚辰</h4>
                                        <div class="luck-description">
                                            <p>庚金透出克制甲木，辰土增强土的力量，这步大运对您来说：</p>
                                            <ul>
                                                <li>事业上可能有突破，特别是金融、管理类工作</li>
                                                <li>财运相对平稳，适合积累</li>
                                                <li>需要注意呼吸系统健康</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="luck-item">
                                    <div class="luck-content">
                                        <div class="luck-year">2025年</div>
                                        <h4 class="luck-title">乙巳流年</h4>
                                        <div class="luck-description">
                                            <p>乙木劫财透出，巳火增强火势，这一年：</p>
                                            <ul>
                                                <li>可能有合作机会，但要注意利益分配</li>
                                                <li>创意灵感丰富，适合发展副业</li>
                                                <li>夏季需要注意心脏健康</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="luck-item">
                                    <div class="luck-content">
                                        <div class="luck-year">2030-2039年</div>
                                        <h4 class="luck-title">下一步大运：辛巳</h4>
                                        <div class="luck-description">
                                            <p>辛金透出，巳火藏干，这步大运：</p>
                                            <ul>
                                                <li>事业上可能有贵人相助</li>
                                                <li>财运上升，但要注意理财</li>
                                                <li>适合发展专业技能</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="luck-item">
                                    <div class="luck-content">
                                        <div class="luck-year">重要提醒</div>
                                        <h4 class="luck-title">关键年份</h4>
                                        <div class="luck-description">
                                            <p>以下年份需要特别注意：</p>
                                            <ul>
                                                <li><strong>2026年丙午</strong>：火旺，注意情绪管理</li>
                                                <li><strong>2032年壬子</strong>：水旺，可能有变动</li>
                                                <li><strong>2038年戊午</strong>：火土旺，注意健康</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="learning-tip">
                                <p><strong>学习要点：</strong> 运势分析包括大运和流年两部分。大运每十年一换，影响长期趋势；流年每年变化，影响具体事件。分析时要看大运流年与命局的相互作用，是否有合化、冲克等关系，以及是否引动了命局中的关键元素。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <div class="container">
            <p>&copy; 2025 麦八字教学网. 保留所有权利.</p>
            <p>传承经典命理文化，科学学习八字知识</p>
        </div>
    </footer>
    <script src="../js/lunar.js"></script>
    <script src="../js/main1.js"></script>
    
    <script>
        // 交互功能增强
        document.addEventListener('DOMContentLoaded', function() {
            // 选项卡切换
            const tabs = document.querySelectorAll('.analysis-tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // 移除所有active类
                    document.querySelectorAll('.analysis-tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.analysis-content').forEach(c => c.classList.remove('active'));
                    
                    // 添加当前active类
                    this.classList.add('active');
                    const tabId = this.getAttribute('data-tab');
                    document.getElementById(`${tabId}-analysis`).classList.add('active');
                });
            });
            
            // 五行交互图
            const wuxingElements = document.querySelectorAll('.wuxing-element-circle');
            const wuxingCards = document.querySelectorAll('.wuxing-info-card');
            
            wuxingElements.forEach(el => {
                el.addEventListener('click', function() {
                    const element = this.getAttribute('data-element');
                    
                    // 隐藏所有卡片
                    wuxingCards.forEach(card => card.style.display = 'none');
                    
                    // 显示对应卡片
                    document.getElementById(`${element}-info`).style.display = 'block';
                });
            });
            
            // 默认显示木元素卡片
            document.getElementById('wood-info').style.display = 'block';
            
            // 打印功能
            document.getElementById('print-btn').addEventListener('click', function() {
                window.print();
            });
            
            // 保存功能
            document.getElementById('save-btn').addEventListener('click', function() {
                alert('八字命盘已保存（实际功能需后端支持）');
            });
            
            // 八字表格交互
            const baziCells = document.querySelectorAll('.interactive-bazi-table td');
            baziCells.forEach(cell => {
                cell.addEventListener('mouseenter', function() {
                    this.style.backgroundColor = 'rgba(237, 28, 36, 0.1)';
                });
                
                cell.addEventListener('mouseleave', function() {
                    this.style.backgroundColor = '';
                });
            });
            
            // 模拟数据填充（实际应用中应从lunar.js获取真实数据）
            function simulateBaziData() {
                // 这里只是示例，实际应用中应该从lunar.js获取真实数据
                document.getElementById('result-date').textContent = '1990年5月15日';
                document.getElementById('result-time').textContent = '11:30';
                document.getElementById('result-lunar').textContent = '庚午年四月廿一';
                document.getElementById('result-zodiac').textContent = '马';
                document.getElementById('result-minggong').textContent = '寅宫';
                document.getElementById('result-shengong').textContent = '申宫';
                
                // 这里可以添加更多模拟数据...
            }
            
            // 表单提交
            document.getElementById('bazi-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // 显示结果区域
                document.getElementById('result-section').style.display = 'block';
                
                // 滚动到结果区域
                document.getElementById('result-section').scrollIntoView({ behavior: 'smooth' });
                
                // 模拟数据填充
                simulateBaziData();
                
                // 实际应用中应该调用lunar.js计算真实八字数据
                // const birthDate = document.getElementById('birth-date').value;
                // const birthHour = document.getElementById('birth-hour').value;
                // const birthMinute = document.getElementById('birth-minute').value;
                // const timezone = document.getElementById('timezone').value;
                // const gender = document.querySelector('input[name="gender"]:checked').value;
                // 
                // 使用这些参数调用lunar.js计算八字
                // const baziData = calculateBazi(birthDate, birthHour, birthMinute, timezone, gender);
                // 
                // 然后使用真实数据填充页面
            });
        });
        
        // 实际应用中应该有一个calculateBazi函数来调用lunar.js计算八字
        function calculateBazi(birthDate, birthHour, birthMinute, timezone, gender) {
            // 这里应该调用lunar.js的API计算八字
            // 返回一个包含所有八字数据的对象
            // 示例结构：
            return {
                yearStem: '甲',
                yearBranch: '子',
                monthStem: '乙',
                monthBranch: '丑',
                dayStem: '丙',
                dayBranch: '寅',
                hourStem: '丁',
                hourBranch: '卯',
                // 其他数据...
            };
        }
        
        // 身强身弱分析函数
        function analyzeStrength(baziData) {
            // 根据八字数据计算身强身弱
            // 这里只是一个示例逻辑
            const dayStem = baziData.dayStem; // 日干
            const monthBranch = baziData.monthBranch; // 月支
            const stems = [baziData.yearStem, baziData.monthStem, baziData.dayStem, baziData.hourStem];
            const branches = [baziData.yearBranch, baziData.monthBranch, baziData.dayBranch, baziData.hourBranch];
            
            // 简化的身强身弱判断逻辑
            let strength = 0;
            
            // 月令影响（简化版）
            const seasonStrength = {
                '寅': 1, '卯': 1, '辰': 0.5, // 春
                '巳': -1, '午': -1, '未': -0.5, // 夏
                '申': -1, '酉': -1, '戌': -0.5, // 秋
                '亥': 1, '子': 1, '丑': 0.5 // 冬
            };
            
            strength += seasonStrength[monthBranch] || 0;
            
            // 天干地支生助
            stems.forEach(stem => {
                if (isSameElement(stem, dayStem)) strength += 0.5;
                if (isGenerating(stem, dayStem)) strength += 0.3;
            });
            
            branches.forEach(branch => {
                if (isSameElement(branch, dayStem)) strength += 0.5;
                if (isGenerating(branch, dayStem)) strength += 0.3;
            });
            
            // 判断结果
            if (strength > 1.5) return '身强';
            if (strength < 0.5) return '身弱';
            return '中和';
        }
        
        // 判断是否同五行
        function isSameElement(a, b) {
            const elements = {
                '甲': '木', '乙': '木', '寅': '木', '卯': '木',
                '丙': '火', '丁': '火', '巳': '火', '午': '火',
                '戊': '土', '己': '土', '辰': '土', '戌': '土', '丑': '土', '未': '土',
                '庚': '金', '辛': '金', '申': '金', '酉': '金',
                '壬': '水', '癸': '水', '亥': '水', '子': '水'
            };
            
            return elements[a] === elements[b];
        }
        
        // 判断是否相生
        function isGenerating(a, b) {
            const elements = {
                '甲': '木', '乙': '木', '寅': '木', '卯': '木',
                '丙': '火', '丁': '火', '巳': '火', '午': '火',
                '戊': '土', '己': '土', '辰': '土', '戌': '土', '丑': '土', '未': '土',
                '庚': '金', '辛': '金', '申': '金', '酉': '金',
                '壬': '水', '癸': '水', '亥': '水', '子': '水'
            };
            
            const aElem = elements[a];
            const bElem = elements[b];
            
            // 五行相生关系
            const generating = {
                '木': '火',
                '火': '土',
                '土': '金',
                '金': '水',
                '水': '木'
            };
            
            return generating[aElem] === bElem;
        }
        
        // 十神分析函数
        function analyzeTenGods(baziData) {
            // 根据八字数据分析十神分布
            // 这里只是一个示例逻辑
            const dayStem = baziData.dayStem;
            const stems = [baziData.yearStem, baziData.monthStem, baziData.hourStem];
            
            const tenGods = {
                '比肩': 0,
                '劫财': 0,
                '食神': 0,
                '伤官': 0,
                '偏财': 0,
                '正财': 0,
                '七杀': 0,
                '正官': 0,
                '偏印': 0,
                '正印': 0
            };
            
            // 简化的十神判断
            stems.forEach(stem => {
                // 这里应该有更复杂的十神判断逻辑
                if (stem === dayStem) tenGods['比肩']++;
                else if (isSameElement(stem, dayStem)) tenGods['劫财']++;
                // 其他十神判断...
            });
            
            return tenGods;
        }
        
        // 五行分析函数
        function analyzeWuXing(baziData) {
            // 统计八字中五行的数量
            const wuXing = {
                '木': 0,
                '火': 0,
                '土': 0,
                '金': 0,
                '水': 0
            };
            
            // 天干地支对应的五行
            const elements = {
                '甲': '木', '乙': '木', '寅': '木', '卯': '木',
                '丙': '火', '丁': '火', '巳': '火', '午': '火',
                '戊': '土', '己': '土', '辰': '土', '戌': '土', '丑': '土', '未': '土',
                '庚': '金', '辛': '金', '申': '金', '酉': '金',
                '壬': '水', '癸': '水', '亥': '水', '子': '水'
            };
            
            // 统计天干
            ['yearStem', 'monthStem', 'dayStem', 'hourStem'].forEach(key => {
                const elem = elements[baziData[key]];
                if (elem) wuXing[elem]++;
            });
            
            // 统计地支
            ['yearBranch', 'monthBranch', 'dayBranch', 'hourBranch'].forEach(key => {
                const elem = elements[baziData[key]];
                if (elem) wuXing[elem]++;
            });
            
            return wuXing;
        }
    </script>
</body>
</html>
