<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="赛博八字命理测算系统，融合未来科技与传统智慧">
    <meta name="keywords" content="赛博命理,八字,算命,未来科技,数字命盘">
    <title>赛博命理 - 未来科技命理系统</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.css">
    <style>
        :root {
            --primary-color: #6e00ff;
            --primary-glow: rgba(110, 0, 255, 0.3);
            --secondary-color: #00f7ff;
            --secondary-glow: rgba(0, 247, 255, 0.3);
            --accent-color: #ff00aa;
            --accent-glow: rgba(255, 0, 170, 0.3);
            --dark-bg: #0a0a14;
            --darker-bg: #05050a;
            --card-bg: rgba(15, 15, 25, 0.7);
            --text-color: #e0e0ff;
            --text-muted: #a0a0c0;
            --border-color: rgba(110, 0, 255, 0.2);
            --success-color: #00ffaa;
            --warning-color: #ffaa00;
            --danger-color: #ff0066;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Share Tech Mono', monospace;
            background-color: var(--dark-bg);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 20% 30%, var(--primary-glow) 0%, transparent 20%),
                radial-gradient(circle at 80% 70%, var(--secondary-glow) 0%, transparent 20%),
                linear-gradient(to bottom, var(--darker-bg), var(--dark-bg));
            position: relative;
        }

        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(rgba(0, 0, 0, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 0, 0, 0.1) 1px, transparent 1px);
            background-size: 20px 20px;
            pointer-events: none;
            z-index: -1;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }

        /* 星空背景 */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -2;
        }

        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle var(--duration) infinite ease-in-out;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 1; }
        }

        /* 扫描线效果 */
        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                to bottom,
                rgba(255, 255, 255, 0.03) 0%,
                rgba(255, 255, 255, 0.05) 50%,
                rgba(255, 255, 255, 0.03) 100%
            );
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 9999;
            animation: scanline 8s linear infinite;
        }

        @keyframes scanline {
            0% { background-position: 0 0; }
            100% { background-position: 0 100%; }
        }

        /* 头部样式 */
        .header-container {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
            padding: 30px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .header-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--text-color);
            text-shadow: 0 0 10px var(--primary-color), 0 0 20px var(--primary-glow);
            letter-spacing: 2px;
            position: relative;
            display: inline-block;
        }

        .header-title::after {
            content: "";
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--primary-color), transparent);
            border-radius: 3px;
        }

        .header-subtitle {
            font-size: 1.2rem;
            color: var(--text-muted);
            margin-bottom: 20px;
            letter-spacing: 1px;
        }

        /* 北斗七星样式 */
        .big-dipper {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 150px;
        }

        .big-dipper .star {
            width: 6px;
            height: 6px;
            background-color: var(--secondary-color);
            box-shadow: 0 0 5px 2px var(--secondary-glow);
            border-radius: 50%;
        }

        /* 输入区域样式 */
        .input-section, .result-section {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border-color);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .input-section:hover, .result-section:hover {
            box-shadow: 0 10px 40px rgba(110, 0, 255, 0.4);
        }

        .input-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }

        .input-header i {
            font-size: 1.5rem;
            margin-right: 15px;
            color: var(--primary-color);
        }

        .input-header h2 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8rem;
            color: var(--text-color);
        }

        /* 表单样式 */
        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            flex: 1;
            min-width: 250px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .form-group label i {
            margin-right: 8px;
            color: var(--primary-color);
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 12px 15px;
            background-color: rgba(20, 20, 40, 0.7);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            color: var(--text-color);
            font-family: 'Share Tech Mono', monospace;
            transition: all 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 10px var(--primary-glow);
        }

        /* 时辰选择器 */
        .time-period-selector {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 10px;
        }

        .time-period-option {
            padding: 10px;
            background-color: rgba(20, 20, 40, 0.7);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.8rem;
        }

        .time-period-option:hover {
            background-color: rgba(110, 0, 255, 0.2);
            border-color: var(--primary-color);
        }

        .time-period-option.active {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
            color: white;
        }

        /* 历史记录 */
        .saved-profiles {
            margin-top: 30px;
            border-top: 1px solid var(--border-color);
            padding-top: 20px;
        }

        .saved-profiles-title {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            color: var(--text-muted);
        }

        .saved-profiles-title i {
            margin-right: 10px;
            color: var(--primary-color);
        }

        .saved-profiles-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .saved-profile {
            padding: 8px 15px;
            background-color: rgba(20, 20, 40, 0.7);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.8rem;
        }

        .saved-profile:hover {
            background-color: rgba(110, 0, 255, 0.2);
            border-color: var(--primary-color);
        }

        /* 免责声明 */
        .disclaimer {
            margin-top: 30px;
            padding: 15px;
            background-color: rgba(110, 0, 255, 0.1);
            border-left: 3px solid var(--primary-color);
            font-size: 0.8rem;
            color: var(--text-muted);
            display: flex;
            align-items: center;
        }

        .disclaimer i {
            margin-right: 10px;
            color: var(--warning-color);
        }

        /* 按钮样式 */
        .calculate-btn-container {
            margin-top: 30px;
            text-align: center;
        }

        button {
            background: linear-gradient(135deg, var(--primary-color), #8a2be2);
            color: white;
            border: none;
            padding: 15px 30px;
            font-family: 'Orbitron', sans-serif;
            font-size: 1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(110, 0, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(110, 0, 255, 0.4);
        }

        button:active {
            transform: translateY(1px);
        }

        button i {
            margin-right: 10px;
        }

        button::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to bottom right,
                rgba(255, 255, 255, 0) 0%,
                rgba(255, 255, 255, 0) 30%,
                rgba(255, 255, 255, 0.1) 45%,
                rgba(255, 255, 255, 0) 60%
            );
            transform: rotate(30deg);
            transition: all 0.3s ease;
        }

        button:hover::before {
            left: 100%;
        }

        #recalculate-btn {
            background: linear-gradient(135deg, var(--secondary-color), #00b7ff);
            box-shadow: 0 5px 15px rgba(0, 247, 255, 0.3);
        }

        #recalculate-btn:hover {
            box-shadow: 0 8px 20px rgba(0, 247, 255, 0.4);
        }

        /* 结果区域样式 */
        .basic-info {
            margin-bottom: 30px;
        }

        .info-section {
            margin-bottom: 30px;
            background-color: rgba(20, 20, 40, 0.3);
            border-radius: 8px;
            padding: 20px;
            border: 1px solid var(--border-color);
        }

        .info-section h3 {
            font-family: 'Orbitron', sans-serif;
            margin-bottom: 20px;
            color: var(--text-color);
            display: flex;
            align-items: center;
        }

        .info-section h3 i {
            margin-right: 10px;
            color: var(--primary-color);
        }

        .info-content {
            padding: 0 10px;
        }

        /* 评分系统 */
        .rating-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }

        .rating-group {
            flex: 1;
            min-width: 200px;
            text-align: center;
            padding: 20px;
            background-color: rgba(20, 20, 40, 0.5);
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        .rating-title {
            font-family: 'Orbitron', sans-serif;
            margin-bottom: 15px;
            color: var(--text-color);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .rating-title i {
            margin-right: 10px;
            color: var(--accent-color);
        }

        .rating-level {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--primary-color);
            text-shadow: 0 0 10px var(--primary-glow);
        }

        .rating-score {
            font-size: 1.2rem;
            color: var(--secondary-color);
            margin-bottom: 10px;
        }

        .score-details {
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        /* 八字表格 */
        .bazi-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin-bottom: 20px;
        }

        .bazi-row {
            display: flex;
        }

        .bazi-cell {
            flex: 1;
            padding: 12px;
            text-align: center;
            border: 1px solid var(--border-color);
            background-color: rgba(20, 20, 40, 0.5);
        }

        .bazi-header .bazi-cell {
            background-color: rgba(110, 0, 255, 0.2);
            font-weight: bold;
            color: var(--primary-color);
        }

        .bazi-row:first-child .bazi-cell:first-child {
            border-top-left-radius: 8px;
        }

        .bazi-row:first-child .bazi-cell:last-child {
            border-top-right-radius: 8px;
        }

        .bazi-row:last-child .bazi-cell:first-child {
            border-bottom-left-radius: 8px;
        }

        .bazi-row:last-child .bazi-cell:last-child {
            border-bottom-right-radius: 8px;
        }

        .hidden-stems {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        /* 性格特点 */
        .personality-traits {
            padding: 15px;
            background-color: rgba(20, 20, 40, 0.5);
            border-left: 3px solid var(--accent-color);
            font-style: italic;
            color: var(--text-color);
            margin-top: 20px;
        }

        /* 五行图表 */
        .element-chart-container {
            position: relative;
            height: 300px;
            margin-bottom: 20px;
        }

        .element-chart {
            width: 100%;
            height: 100%;
        }

        .chart-description {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-bottom: 15px;
        }

        .element-legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .element-legend-item {
            display: flex;
            align-items: center;
            font-size: 0.9rem;
        }

        .element-legend-color {
            width: 15px;
            height: 15px;
            border-radius: 3px;
            margin-right: 8px;
        }

        .wood-color { background-color: #4CAF50; }
        .fire-color { background-color: #F44336; }
        .earth-color { background-color: #FFC107; }
        .metal-color { background-color: #9E9E9E; }
        .water-color { background-color: #2196F3; }

        /* 黄历卡片 */
        .lunar-calendar-card {
            background-color: rgba(20, 20, 40, 0.5);
            border-radius: 8px;
            border: 1px solid var(--border-color);
            padding: 20px;
        }

        .lunar-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        .lunar-header i {
            margin-right: 10px;
        }

        .lunar-date {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--text-color);
        }

        .lunar-ganzhi {
            font-size: 1rem;
            color: var(--secondary-color);
            margin-bottom: 15px;
        }

        .lunar-yiji {
            display: flex;
            gap: 20px;
        }

        .lunar-yiji-column {
            flex: 1;
        }

        .lunar-yiji-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--text-color);
        }

        .lunar-yiji-content {
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        /* 标签页 */
        .menu-tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
        }

        .menu-tab {
            padding: 10px 20px;
            background-color: rgba(20, 20, 40, 0.5);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            font-size: 0.9rem;
        }

        .menu-tab i {
            margin-right: 8px;
        }

        .menu-tab:hover {
            background-color: rgba(110, 0, 255, 0.2);
        }

        .menu-tab.active {
            background-color: var(--primary-color);
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* 详情卡片 */
        .detail-card {
            margin-bottom: 20px;
            background-color: rgba(20, 20, 40, 0.3);
            border-radius: 8px;
            border: 1px solid var(--border-color);
            overflow: hidden;
        }

        .load-btn-container {
            padding: 15px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .load-btn-container:hover {
            background-color: rgba(110, 0, 255, 0.1);
        }

        .load-btn {
            background: none;
            border: none;
            color: var(--text-color);
            font-family: 'Orbitron', sans-serif;
            font-size: 1rem;
            width: 100%;
            text-align: left;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0;
            cursor: pointer;
        }

        .load-btn i {
            margin-left: 10px;
            transition: transform 0.3s ease;
        }

        .load-btn.active .toggle-icon {
            transform: rotate(180deg);
        }

        .load-btn-description {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-top: 5px;
        }

        .section-content {
            padding: 0 20px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }

        .section-content.active {
            padding: 0 20px 20px;
            max-height: 1000px;
        }

        /* 八字问答 */
        .bazi-qa-container {
            padding: 20px;
        }

        .bazi-qa-title {
            font-family: 'Orbitron', sans-serif;
            margin-bottom: 15px;
            color: var(--text-color);
            display: flex;
            align-items: center;
        }

        .bazi-qa-title i {
            margin-right: 10px;
            color: var(--primary-color);
        }

        .bazi-qa-input-container {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .bazi-qa-input {
            flex: 1;
            padding: 12px 15px;
            background-color: rgba(20, 20, 40, 0.7);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            color: var(--text-color);
            font-family: 'Share Tech Mono', monospace;
        }

        .bazi-qa-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 10px var(--primary-glow);
        }

        .bazi-qa-submit {
            padding: 12px 20px;
            background: linear-gradient(135deg, var(--primary-color), #8a2be2);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .bazi-qa-submit:hover {
            background: linear-gradient(135deg, #8a2be2, var(--primary-color));
        }

        .bazi-qa-response {
            padding: 15px;
            background-color: rgba(20, 20, 40, 0.5);
            border-radius: 5px;
            border-left: 3px solid var(--secondary-color);
            margin-top: 15px;
        }

        .bazi-qa-loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 15px;
            color: var(--secondary-color);
        }

        .loading {
            border: 3px solid rgba(0, 247, 255, 0.2);
            border-top: 3px solid var(--secondary-color);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* 赌运分析 */
        .gambling-analysis {
            margin-top: 20px;
            padding: 15px;
            background-color: rgba(20, 20, 40, 0.5);
            border-radius: 5px;
            border-left: 3px solid var(--accent-color);
        }

        .gambling-title {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            color: var(--text-color);
        }

        .gambling-title i {
            margin-right: 10px;
            color: var(--accent-color);
        }

        .gambling-rating {
            font-size: 1.5rem;
            color: var(--accent-color);
            margin-bottom: 10px;
            letter-spacing: 3px;
        }

        .gambling-details {
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        /* 版权信息 */
        .copyright {
            text-align: center;
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }

        /* 响应式设计 */
        @media (max-width: 768px) {
            .header-title {
                font-size: 2.5rem;
            }
            
            .header-subtitle {
                font-size: 1rem;
            }
            
            .form-row {
                flex-direction: column;
            }
            
            .time-period-selector {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .rating-container {
                flex-direction: column;
            }
            
            .lunar-yiji {
                flex-direction: column;
            }
            
            .menu-tabs {
                flex-direction: column;
            }
        }

        /* 粒子背景 */
        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -3;
            pointer-events: none;
        }

        /* 霓虹灯效果 */
        .neon-text {
            text-shadow: 0 0 5px currentColor, 0 0 10px currentColor, 0 0 15px currentColor;
            animation: neon-flicker 1.5s infinite alternate;
        }

        @keyframes neon-flicker {
            0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
                text-shadow: 
                    0 0 5px currentColor,
                    0 0 10px currentColor,
                    0 0 15px currentColor;
            }
            20%, 24%, 55% {        
                text-shadow: none;
            }
        }

        /* 3D卡片效果 */
        .card-3d {
            transform-style: preserve-3d;
            transition: transform 0.5s ease;
        }

        .card-3d:hover {
            transform: translateY(-5px) rotateX(5deg);
        }

        /* 脉冲动画 */
        @keyframes pulse {
            0% { opacity: 0.5; }
            50% { opacity: 1; }
            100% { opacity: 0.5; }
        }

        .pulse {
            animation: pulse 2s infinite ease-in-out;
        }
    </style>
</head>
<body>
    <div class="scanlines"></div>
    <div id="particles-js"></div>
    
    <!-- 星空背景 -->
    <div class="stars" id="stars"></div>
    
    <div class="container">
        <div class="header-container" style="position: relative;">
            <!-- 精确版北斗七星（标准勺子形状） -->
            <div class="big-dipper">
                <!-- 斗身四星（形成稍长的矩形） -->
                <div class="star" style="top:45px; left:-60px;"></div> <!-- 天枢 -->
                <div class="star" style="top:50px; left:-40px;"></div> <!-- 天璇 -->
                <div class="star" style="top:60px; left:-20px;"></div> <!-- 天玑 -->
                <div class="star" style="top:75px; left:0px;"></div> <!-- 天权 -->

                <!-- 斗柄三星（自然向下弯曲） -->
                <div class="star" style="top:95px; left:15px;"></div> <!-- 玉衡 -->
                <div class="star" style="top:100px; left:45px;"></div> <!-- 开阳 -->
                <div class="star" style="top:80px; left:60px;"></div> <!-- 摇光 -->
            </div>
            <h1 class="header-title neon-text">赛博命理系统</h1>
            <div class="header-subtitle">未来科技 · 传统智慧 · 数字命盘</div>
            <div class="header-links">
            </div>
        </div>
        
        <div class="input-section card-3d" id="input-section">
            <div class="input-header">
                <i class="fas fa-id-card"></i>
                <h2>请输入您的信息</h2>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="name"><i class="fas fa-user-astronaut"></i> 姓名</label>
                    <input type="text" id="name" placeholder="请输入您的姓名">
                </div>
                <div class="form-group">
                    <label for="gender"><i class="fas fa-venus-mars"></i> 性别</label>
                    <select id="gender" required>
                        <option value="">请选择</option>
                        <option value="male">男</option>
                        <option value="female">女</option>
                    </select>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="birth-date"><i class="fas fa-calendar-alt"></i> 出生日期</label>
                    <input type="date" id="birth-date" required>
                </div>
                <div class="form-group">
                    <label for="birth-time"><i class="fas fa-clock"></i> 出生时辰</label>
                    <div class="time-period-selector" id="time-period-selector">
                        <div class="time-period-option" data-hour="23" data-minute="0">子时 (23-1)</div>
                        <div class="time-period-option" data-hour="1" data-minute="0">丑时 (1-3)</div>
                        <div class="time-period-option" data-hour="3" data-minute="0">寅时 (3-5)</div>
                        <div class="time-period-option" data-hour="5" data-minute="0">卯时 (5-7)</div>
                        <div class="time-period-option" data-hour="7" data-minute="0">辰时 (7-9)</div>
                        <div class="time-period-option" data-hour="9" data-minute="0">巳时 (9-11)</div>
                        <div class="time-period-option" data-hour="11" data-minute="0">午时 (11-13)</div>
                        <div class="time-period-option" data-hour="13" data-minute="0">未时 (13-15)</div>
                        <div class="time-period-option" data-hour="15" data-minute="0">申时 (15-17)</div>
                        <div class="time-period-option" data-hour="17" data-minute="0">酉时 (17-19)</div>
                        <div class="time-period-option" data-hour="19" data-minute="0">戌时 (19-21)</div>
                        <div class="time-period-option" data-hour="21" data-minute="0">亥时 (21-23)</div>
                    </div>
                    <input type="hidden" id="birth-time" required>
                </div>
            </div>

            <div class="saved-profiles" id="saved-profiles">
                <div class="saved-profiles-title">
                    <i class="fas fa-history"></i> 历史记录
                </div>
                <div class="saved-profiles-list" id="saved-profiles-list">
                    <!-- Saved profiles will be added here dynamically -->
                </div>
            </div>
            
            <div class="disclaimer">
                <i class="fas fa-exclamation-triangle"></i> 本系统采用量子计算与AI算法分析，数据来自《渊海子平》《三命通会》等古籍数据库
            </div>
            
            <div class="calculate-btn-container">
                <button id="calculate-btn"><i class="fas fa-brain"></i> 开始量子测算</button>
            </div>
        </div>
        
        <div class="result-section card-3d" id="result-section">
            <div class="basic-info" id="basic-info">
                <div class="info-section">
                    <h3 style="text-align: center; justify-content: center;">
                        <i class="fas fa-user-astronaut"></i> <span id="user-name-display"></span> · <span id="user-birth-display"></span>
                    </h3>
                    <div class="info-content">
                        <div class="rating-container">
                            <div class="rating-group">
                                <div class="rating-title"><i class="fas fa-star"></i> 命格等级</div>
                                <div class="rating-level" id="fate-level">上等</div>
                                <div class="rating-score" id="fate-score">88/100</div>
                                <div class="score-details" id="fate-details">格局清奇，五行流通，富贵可期</div>
                            </div>
                            <div class="rating-group">
                                <div class="rating-title"><i class="fas fa-coins"></i> 财富等级</div>
                                <div class="rating-level" id="wealth-level">中上</div>
                                <div class="rating-score" id="wealth-score">76/100</div>
                                <div class="score-details" id="wealth-details">正财稳固，偏财有度，中年后财富积累加速</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="info-section">
                    <h3><i class="fas fa-dna"></i> 八字四柱</h3>
                    <div class="info-content">
                        <div class="bazi-table">
                            <div class="bazi-row bazi-header">
                                <div class="bazi-cell">四柱</div>
                                <div class="bazi-cell">年柱</div>
                                <div class="bazi-cell">月柱</div>
                                <div class="bazi-cell">日柱</div>
                                <div class="bazi-cell">时柱</div>
                            </div>
                            <div class="bazi-row">
                                <div class="bazi-cell">天干</div>
                                <div class="bazi-cell" id="year-stem">壬</div>
                                <div class="bazi-cell" id="month-stem">癸</div>
                                <div class="bazi-cell" id="day-stem">己</div>
                                <div class="bazi-cell" id="hour-stem">癸</div>
                            </div>
                            <div class="bazi-row">
                                <div class="bazi-cell">地支</div>
                                <div class="bazi-cell" id="year-branch">子</div>
                                <div class="bazi-cell" id="month-branch">丑</div>
                                <div class="bazi-cell" id="day-branch">巳</div>
                                <div class="bazi-cell" id="hour-branch">酉</div>
                            </div>
                            <div class="bazi-row">
                                <div class="bazi-cell">藏干</div>
                                <div class="bazi-cell">
                                    <div class="hidden-stems" id="year-hidden-stems">癸</div>
                                </div>
                                <div class="bazi-cell">
                                    <div class="hidden-stems" id="month-hidden-stems">己癸辛</div>
                                </div>
                                <div class="bazi-cell">
                                    <div class="hidden-stems" id="day-hidden-stems">丙庚戊</div>
                                </div>
                                <div class="bazi-cell">
                                    <div class="hidden-stems" id="hour-hidden-stems">辛</div>
                                </div>
                            </div>
                        </div>
                        <div class="personality-traits" id="personality-traits">
                            命主性格：似静水流深，临危反生智，藏锋守拙却暗含凌云之志
                        </div>
                    </div>
                </div>
                
                <div class="info-section">
    <h3><i class="fas fa-atom"></i> 五行能量分布</h3>
    <div class="info-content">
        <div class="element-chart-container">
            <canvas id="element-chart" class="element-chart"></canvas>
        </div>
        <div id="element-chart-description" class="chart-description">
            五行分析：水旺木相，火土金休囚，需注意五行平衡，补火土之气以调和命局
        </div>
        <div class="element-legend">
            <div class="element-legend-item">
                <div class="element-legend-color wood-color"></div>
                <span>木</span>
            </div>
            <div class="element-legend-item">
                <div class="element-legend-color fire-color"></div>
                <span>火</span>
            </div>
            <div class="element-legend-item">
                <div class="element-legend-color earth-color"></div>
                <span>土</span>
            </div>
            <div class="element-legend-item">
                <div class="element-legend-color metal-color"></div>
                <span>金</span>
            </div>
            <div class="element-legend-item">
                <div class="element-legend-color water-color"></div>
                <span>水</span>
            </div>
        </div>
    </div>
</div>
                
                <div class="info-section">
                    <div class="lunar-calendar-card">
                        <div class="lunar-header">
                            <i class="fas fa-calendar-alt"></i>
                            <span>今日黄历</span>
                        </div>
                        <div class="lunar-date" id="lunar-date">2025年4月29日 农历四月初二</div>
                        <div class="lunar-ganzhi" id="lunar-ganzhi">乙巳年 庚辰月 戊辰日</div>
                        <div class="lunar-yiji">
                            <div class="lunar-yiji-column">
                                <div class="lunar-yiji-title">宜</div>
                                <div class="lunar-yiji-content" id="lunar-yi">祭祀, 祈福, 求嗣, 开光, 出行</div>
                            </div>
                            <div class="lunar-yiji-column">
                                <div class="lunar-yiji-title">忌</div>
                                <div class="lunar-yiji-content" id="lunar-ji">嫁娶, 安葬, 掘井, 破土</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="menu-tabs">
                <div class="menu-tab active" data-tab="fortune"><i class="fas fa-network-wired"></i> 命盘分析</div>
                <div class="menu-tab" data-tab="character"><i class="fas fa-user-astronaut"></i> 性格财富</div>
                <div class="menu-tab" data-tab="relationship"><i class="fas fa-heartbeat"></i> 婚姻健康</div>
                <div class="menu-tab" data-tab="trend"><i class="fas fa-chart-line"></i> 运势分析</div>
            </div>
            <div class="tab-content active" id="fortune-tab">
    <!-- 移动后的八字问答模块 -->
    <div class="detail-card">
        <div class="bazi-qa-container">
            <div class="bazi-qa-title">
                <i class="fas fa-question-circle"></i> 八字问答
            </div>
            <div class="bazi-qa-input-container">
                <input type="text" class="bazi-qa-input" id="bazi-question" placeholder="输入您想了解的八字相关问题...">
                <button class="bazi-qa-submit" id="bazi-qa-submit">提问</button>
            </div>
            <div id="bazi-qa-response" class="bazi-qa-response" style="display: none;">
                <!-- 回答内容将在这里显示 -->
            </div>
            <div id="bazi-qa-loading" class="bazi-qa-loading" style="display: none;">
                <div class="loading"></div>
                <span>量子AI分析中...</span>
            </div>
        </div>
    </div>

    <!-- 原来的身强身弱分析模块 -->
    <div class="detail-card">
        <div class="load-btn-container">
            <button class="load-btn" data-section="strength">
                <span><i class="fas fa-dumbbell"></i> 身强，身弱，格局分析</span>
                <i class="fas fa-chevron-down toggle-icon"></i>
            </button>
            <div class="load-btn-description">量子分析命主八字中日主的强弱程度和格局，判断是身强、身弱、均衡、从强还是从弱</div>
        </div>
        <div id="strength-content" class="section-content"></div>
    </div>

    <div class="detail-card">
        <div class="load-btn-container">
            <button class="load-btn" data-section="elements">
                <span><i class="fas fa-yin-yang"></i> 五行强弱，燥湿，流通分析</span>
                <i class="fas fa-chevron-down toggle-icon"></i>
            </button>
            <div class="load-btn-description">量子计算八字五行分布情况，判断五行强弱，燥湿，流通和调候</div>
        </div>
        <div id="elements-content" class="section-content"></div>
    </div>
</div>
            
            <div class="tab-content" id="character-tab">
                <div class="detail-card">
                    <div class="load-btn-container">
                        <button class="load-btn" data-section="personality">
                            <span><i class="fas fa-brain"></i> 性格分析</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </button>
                        <div class="load-btn-description">根据八字分析命主的主要性格特征和优缺点</div>
                    </div>
                    <div id="personality-content" class="section-content"></div>
                </div>
                
                <div class="detail-card">
                    <div class="load-btn-container">
                        <button class="load-btn" data-section="career">
                            <span><i class="fas fa-briefcase"></i> 适合行业分析</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </button>
                        <div class="load-btn-description">根据八字五行和十神分析适合从事的职业方向</div>
                    </div>
                    <div id="career-content" class="section-content"></div>
                </div>
                
                <div class="detail-card">
                    <div class="load-btn-container">
                        <button class="load-btn" data-section="wealth">
                            <span><i class="fas fa-coins"></i> 财富格局分析</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </button>
                        <div class="load-btn-description">分析八字中的财富格局和理财建议</div>
                    </div>
                    <div id="wealth-content" class="section-content"></div>
                    <div class="gambling-analysis">
                        <div class="gambling-title">
                            <i class="fas fa-dice"></i> 今日赌运分析
                        </div>
                        <div class="gambling-rating" id="gambling-rating">★★★☆☆</div>
                        <div class="gambling-details" id="gambling-details">
                            今日偏财运中等，适合小赌怡情但不宜大额投注。东南方位较为有利，下午3-5点时段运势最佳。注意见好就收，避免贪心导致损失。
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="relationship-tab">
                <div class="detail-card">
                    <div class="load-btn-container">
                        <button class="load-btn" data-section="marriage">
                            <span><i class="fas fa-ring"></i> 婚姻情况分析</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </button>
                        <div class="load-btn-description">分析八字中婚姻宫和配偶星情况，预测婚姻状况</div>
                    </div>
                    <div id="marriage-content" class="section-content"></div>
                </div>
                
                <div class="detail-card">
                    <div class="load-btn-container">
                        <button class="load-btn" data-section="children">
                            <span><i class="fas fa-baby"></i> 子女情况分析</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </button>
                        <div class="load-btn-description">分析八字中子女宫和子女星情况，预测子女缘分</div>
                    </div>
                    <div id="children-content" class="section-content"></div>
                </div>
                
                <div class="detail-card">
                    <div class="load-btn-container">
                        <button class="load-btn" data-section="family">
                            <span><i class="fas fa-home"></i> 家庭关系分析</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </button>
                        <div class="load-btn-description">分析八字中父母、兄弟姐妹等家庭关系</div>
                    </div>
                    <div id="family-content" class="section-content"></div>
                </div>
                
                <div class="detail-card">
                    <div class="load-btn-container">
                        <button class="load-btn" data-section="health">
                            <span><i class="fas fa-heartbeat"></i> 健康情况分析</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </button>
                        <div class="load-btn-description">根据五行平衡分析命主的健康状况和潜在健康问题</div>
                    </div>
                    <div id="health-content" class="section-content"></div>
                </div>
            </div>
            
            <div class="tab-content" id="trend-tab">
                <div class="detail-card">
                    <div class="load-btn-container">
                        <button class="load-btn" data-section="annual-fortune">
                            <span><i class="fas fa-calendar-alt"></i> 流年分析</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </button>
                        <div class="load-btn-description">详细分析当前流年对命局的影响，包括五行强弱、神煞系统和地支关系</div>
                    </div>
                    <div id="annual-fortune-content" class="section-content"></div>
                </div>
                
                <div class="detail-card">
                    <div class="load-btn-container">
                        <button class="load-btn" data-section="monthly-fortune">
                            <span><i class="fas fa-calendar-day"></i> 流月分析</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </button>
                        <div class="load-btn-description">预测当前年份每月的运势起伏和注意事项</div>
                    </div>
                    <div id="monthly-fortune-content" class="section-content"></div>
                </div>
                <div class="detail-card">
                    <div class="load-btn-container">
                        <button class="load-btn" data-section="daily-fortune">
                            <span><i class="fas fa-calendar-day"></i> 流日分析</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </button>
                        <div class="load-btn-description">分析每日运势变化和吉凶时辰</div>
                    </div>
                    <div id="daily-fortune-content" class="section-content"></div>
                </div>
              
                <div class="detail-card">
                    <div class="load-btn-container">
                        <button class="load-btn" data-section="decade-fortune">
                            <span><i class="fas fa-hourglass-half"></i> 十年大运分析</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </button>
                        <div class="load-btn-description">分析一生中各阶段大运走势，预测重要时期吉凶</div>
                    </div>
                    <div id="decade-fortune-content" class="section-content"></div>
                </div>
                
                <div class="detail-card">
                    <div class="load-btn-container">
                        <button class="load-btn" data-section="milestones">
                            <span><i class="fas fa-map-marked-alt"></i> 重要节点和重大灾祸分析</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </button>
                        <div class="load-btn-description">指出人生中重要的年份和可能发生的重大事件和重大灾祸</div>
                    </div>
                    <div id="milestones-content" class="section-content"></div>
                </div>
            </div>
            
            <div class="calculate-btn-container" style="margin-top: 30px;">
                <button id="recalculate-btn"><i class="fas fa-redo"></i> 重新测算</button>
            </div>
        </div>
        
        <div class="copyright">
            © 2025 赛博命理系统 版权所有 | 量子计算引擎 v3.2.6 | 数据来自《渊海子平》《三命通会》等古籍
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lunar-javascript@latest/dist/lunar.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        // 初始化星空背景
        function initStars() {
            const starsContainer = document.getElementById('stars');
            const starsCount = 200;
            
            for (let i = 0; i < starsCount; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                
                // 随机位置
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                
                // 随机大小
                const size = Math.random() * 3;
                
                // 随机闪烁时间
                const duration = 3 + Math.random() * 5 + 's';
                
                star.style.left = `${x}%`;
                star.style.top = `${y}%`;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.setProperty('--duration', duration);
                
                starsContainer.appendChild(star);
            }
        }
        
        // 初始化粒子背景
        function initParticles() {
            particlesJS('particles-js', {
                "particles": {
                    "number": {
                        "value": 80,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": "#6e00ff"
                    },
                    "shape": {
                        "type": "circle",
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        },
                        "polygon": {
                            "nb_sides": 5
                        }
                    },
                    "opacity": {
                        "value": 0.5,
                        "random": false,
                        "anim": {
                            "enable": false,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 3,
                        "random": true,
                        "anim": {
                            "enable": false,
                            "speed": 40,
                            "size_min": 0.1,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": true,
                        "distance": 150,
                        "color": "#6e00ff",
                        "opacity": 0.4,
                        "width": 1
                    },
                    "move": {
                        "enable": true,
                        "speed": 2,
                        "direction": "none",
                        "random": false,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": true,
                            "mode": "grab"
                        },
                        "onclick": {
                            "enable": true,
                            "mode": "push"
                        },
                        "resize": true
                    },
                    "modes": {
                        "grab": {
                            "distance": 140,
                            "line_linked": {
                                "opacity": 1
                            }
                        },
                        "bubble": {
                            "distance": 400,
                            "size": 40,
                            "duration": 2,
                            "opacity": 8,
                            "speed": 3
                        },
                        "repulse": {
                            "distance": 200,
                            "duration": 0.4
                        },
                        "push": {
                            "particles_nb": 4
                        },
                        "remove": {
                            "particles_nb": 2
                        }
                    }
                },
                "retina_detect": true
            });
        }
        
        // 初始化五行图表
        function initElementChart() {
            const ctx = document.getElementById('element-chart').getContext('2d');
            const chart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['木', '火', '土', '金', '水'],
                    datasets: [{
                        label: '五行能量',
                        data: [65, 30, 40, 35, 80],
                        backgroundColor: 'rgba(110, 0, 255, 0.2)',
                        borderColor: 'rgba(110, 0, 255, 1)',
                        pointBackgroundColor: 'rgba(110, 0, 255, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(110, 0, 255, 1)',
                        borderWidth: 2
                    }]
                },
                options: {
                    scales: {
                        r: {
                            angleLines: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            pointLabels: {
                                color: '#e0e0ff',
                                font: {
                                    family: "'Share Tech Mono', monospace"
                                }
                            },
                            ticks: {
                                backdropColor: 'transparent',
                                color: 'rgba(255, 255, 255, 0.5)',
                                showLabelBackdrop: false
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    elements: {
                        line: {
                            tension: 0.1
                        }
                    }
                }
            });
        }
        
        // 时辰选择器交互
        function setupTimePeriodSelector() {
            const options = document.querySelectorAll('.time-period-option');
            const hiddenInput = document.getElementById('birth-time');
            
            options.forEach(option => {
                option.addEventListener('click', () => {
                    options.forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                    
                    const hour = option.getAttribute('data-hour');
                    const minute = option.getAttribute('data-minute');
                    hiddenInput.value = `${hour.padStart(2, '0')}:${minute.padStart(2, '0')}`;
                });
            });
        }
        
        // 折叠内容交互
        function setupCollapsibleSections() {
            const buttons = document.querySelectorAll('.load-btn');
            
            buttons.forEach(button => {
                button.addEventListener('click', () => {
                    const section = button.getAttribute('data-section');
                    const content = document.getElementById(`${section}-content`);
                    const icon = button.querySelector('.toggle-icon');
                    
                    button.classList.toggle('active');
                    content.classList.toggle('active');
                    
                    if (content.classList.contains('active')) {
                        // 模拟加载内容
                        if (content.innerHTML === '') {
                            content.innerHTML = `<p>量子AI正在分析${button.textContent.trim()}...</p>`;
                            setTimeout(() => {
                                content.innerHTML = `
                                    <p>${button.textContent.trim()}分析完成：</p>
                                    <p>这是一个示例分析结果，实际系统将根据用户输入的生辰八字进行详细计算。</p>
                                    <p>量子AI已对命局进行了深度解析，揭示了潜在的命理特征和发展趋势。</p>
                                `;
                            }, 1500);
                        }
                    }
                });
            });
        }
        
        // 标签页切换
        function setupTabSwitching() {
            const tabs = document.querySelectorAll('.menu-tab');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.getAttribute('data-tab');
                    
                    // 更新活动标签
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    // 更新活动内容
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    document.getElementById(`${tabId}-tab`).classList.add('active');
                });
            });
        }
        
        // 八字问答交互
        function setupBaziQA() {
            const submitBtn = document.getElementById('bazi-qa-submit');
            const questionInput = document.getElementById('bazi-question');
            const responseDiv = document.getElementById('bazi-qa-response');
            const loadingDiv = document.getElementById('bazi-qa-loading');
            
            submitBtn.addEventListener('click', () => {
                const question = questionInput.value.trim();
                
                if (question) {
                    responseDiv.style.display = 'none';
                    loadingDiv.style.display = 'flex';
                    
                    // 模拟AI回答
                    setTimeout(() => {
                        loadingDiv.style.display = 'none';
                        responseDiv.style.display = 'block';
                        responseDiv.innerHTML = `
                            <p><strong>问题：</strong>${question}</p>
                            <p><strong>量子AI回答：</strong></p>
                            <p>根据您的八字分析，${question.replace('?', '')}的情况如下：</p>
                            <p>这是一个示例回答，实际系统将基于您的具体八字信息进行详细分析。</p>
                            <p>量子计算结果显示，命局中相关因素呈现出特定的组合模式，表明${question.replace('?', '')}有独特的发展轨迹。</p>
                        `;
                    }, 2000);
                }
            });
        }
        
        // 初始化函数
        function init() {
            initStars();
            initParticles();
            initElementChart();
            setupTimePeriodSelector();
            setupCollapsibleSections();
            setupTabSwitching();
            setupBaziQA();
            
            // 设置当前日期为默认值
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('birth-date').value = today;
            
            // 设置默认时辰为子时
            document.querySelector('.time-period-option[data-hour="23"]').classList.add('active');
            document.getElementById('birth-time').value = '23:00';
        }
        
        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
