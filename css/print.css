/* ============================================
   机缘命理系统 - 打印功能完整样式修复
   Version: 3.0
   Last Updated: 2025-05-10
   ============================================ */

/* 全局滚动修复 (解决滚动异常问题) */
html {
  scroll-behavior: smooth;
  overflow-anchor: none;
}

body {
  overflow-x: hidden;
  position: static !important;
  overscroll-behavior-y: contain;
}

/* 内容区域基础样式 */
.section-content {
  position: relative;
  overflow: visible !important;
  min-height: 50px;
  padding-bottom: 20px;
  contain: layout;
}

/* 打印按钮核心样式 (强制显示) */
.section-print-btn {
  /* 重置所有继承样式 */
  all: initial;
  
  /* 基础样式 */
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  margin: 25px auto 15px;
  padding: 12px 28px;
  background: linear-gradient(135deg, #6e8efb, #4a6cf7);
  color: white !important;
  border: none;
  border-radius: 30px;
  font: 15px/1.5 'Noto Serif SC', serif;
  cursor: pointer;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  z-index: 100;
  position: relative;
  text-align: center;
  -webkit-appearance: none;
}

/* 按钮交互状态 */
.section-print-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
  background: linear-gradient(135deg, #4a6cf7, #6e8efb);
}

.section-print-btn:active {
  transform: translateY(0);
}

/* 按钮图标样式 */
.section-print-btn i.fas {
  margin-right: 8px;
  font-size: 14px;
}

/* 卡片容器修复 */
.detail-card {
  contain: layout;
  overflow: visible;
  position: relative;
}

/* 打印样式 (保留原有功能) */
@media print {
  body * {
    visibility: hidden;
    background: transparent !important;
    color: #000 !important;
  }
  
  .section-content,
  .section-content * {
    visibility: visible;
  }
  
  .section-content {
    position: absolute;
    left: 0;
    top: 0;
    width: 100% !important;
    margin: 0 !important;
    padding: 15px !important;
  }
  
  .section-print-btn {
    display: none !important;
  }
  
  @page {
    size: A4;
    margin: 15mm;
  }
}

/* 响应式调整 */
@media (max-width: 768px) {
  .section-print-btn {
    padding: 10px 20px;
    font-size: 14px;
    margin: 20px auto;
  }
}

/* 防止其他插件干扰 */
#print-button-fix {
  display: none !important;
}

/* 强制覆盖其他可能冲突的样式 */
button.section-print-btn,
input.section-print-btn,
[class*="print-btn"] {
  all: revert !important;
  display: block !important;
  visibility: visible !important;
}
