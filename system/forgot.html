<h2>找回密码</h2>
<form id="resetRequestForm">
  <input type="email" name="email" placeholder="请输入注册邮箱" required />
  <button type="submit">发送重设链接</button>
</form>
<div id="message"></div>

<script>
document.getElementById('resetRequestForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  const email = e.target.email.value.trim();
  const res = await fetch('https://bazi-backend.owenjass.workers.dev/api/request-reset', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ email })
  });
  const data = await res.json();
  document.getElementById('message').textContent = data.success
    ? '已发送密码重置链接，请查收邮箱。'
    : data.error || '发送失败';
});
</script>
